[workspace]
authors = ["Anton Akhmerov <anton.akhmerov@gmail.com>"]
channels = ["conda-forge"]
name = "python3"
platforms = ["linux-64"]
version = "0.1.0"

[activation.env]
JUPYTER_CONFIG_DIR = ".jupyter"
JUPYTER_DATA_DIR = ".jupyter"
JUPYTER_PATH = ".jupyter"
OPENBLAS_NUM_THREADS = "1"
OMP_NUM_THREADS = "1"
MKL_NUM_THREADS = "1"
MKL_DYNAMIC = "FALSE"

[dependencies]
python = ">=3.14.0,<3.15"
matplotlib-base = ">=3.10.7,<4"
kwant = ">=1.5.0,<2"
scipy = ">=1.16.3,<2"
holoviews = ">=1.22.0,<2"
feedparser = ">=6.0.12,<7"
sympy = ">=1.14.0,<2"
pfapack = ">=0.3.1,<0.4"
ipython = ">=9.7.0,<10"
markdown = ">=3.10,<4"
ipykernel = ">=7.1.0,<8"
jupyter_server = ">=2.17.0,<3"
jupytext = ">=1.18.1,<2"
pre-commit = ">=4.4.0,<5"
mystmd = ">=1.6.4,<2"

[pypi-dependencies]
ruamel-yaml = ">=0.18.16, <0.19"
jupyter-book = ">=2.0.2, <3"
topocm-course = { path = ".", editable = true }

[tasks.postprocess-html]
cmd = "python scripts/postprocess_html.py"

[tasks.book-html]
cmd = "jupyter book --build --html && python scripts/postprocess_html.py"
